<!DOCTYPE html>
<html>
<head>
<title>Title of the document</title>
</head>



<style type="text/css">
.page-wrap {
width: 960px;
margin: 0 auto;
position: relative;
}


.dot {
    height: 25px;
    width: 25px;
    background-color: green;
    border-radius: 50%;
    display: inline-block;
 
}


</style>

<div >
	<img src="zhejiang.png" width="600" height="600" id="beijing">
</div>

<div id="relay1"> 
<img src="gencontrol.png" height="40" width="40">
<div id="dot1" class="dot"> 
</div>
	</div>


<div id="relay2"> 
<img src="gencontrol.png" height="40" width="40">
<div id="dot2" class="dot"> 
</div>
	</div>



<div id="relay3"> 
<img src="gencontrol.png" height="40" width="40">
<div id="dot3" class="dot"> 
</div>
	</div>

	<div id="relay4"> 
<img src="gencontrol.png" height="40" width="40">
<div id="dot4" class="dot"> 
</div>
	</div>


	<div id="relay5"> 
<img src="gencontrol.png" height="40" width="40">
<div id="dot5" class="dot"> 
</div>
	</div>

	<input type="text" id="gennumber" size="5">
	<!-- <button id="legend" onclick="selectgen()">Test A.I.</button>
		<button id="reset" onclick="resetsample()">Reset</button> -->

			<button id="valid" onclick="validate()">Was the A.I. wrong?</button>

			<div id="dot6" class="dot"> 
</div>

					<div id="dot7" class="dot"> 
			</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>



<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script type="text/javascript">
	var aianwser;
	var aipick;
	var govalidate=0;
	var fromLearneddata=[];
	var fromLearneddata2=[];
setInterval(checkState, 2000);
var learndone1=0;
var learndone2=0;
var learndone3=0;
var learndone4=0;
var learndone5=0;

var redcell;
var errorpop=0;

var data = ['1','2','3','4','5'];

var countError=0;

var valid =  document.getElementById("valid");
 valid.style.position="absolute";
valid.style.left = 860+'px';
valid.style.top = 340+'px';
valid.style.visibility='hidden';

var bb =  document.getElementById("beijing");
 bb.style.position="absolute";
 bb.style.left = 200+'px';
bb.style.top = 10+'px';
bb.style.zIndex = "-1";

//gen1

var relay1 =  document.getElementById("relay1");
 relay1.style.position="absolute";
 relay1.style.left = 400+'px';
relay1.style.top = 140+'px';

//gen2

var relay2 =  document.getElementById("relay2");
 relay2.style.position="absolute";
 relay2.style.left = 600+'px';
relay2.style.top = 140+'px';


var relay3 =  document.getElementById("relay3");
 relay3.style.position="absolute";
 relay3.style.left = 390+'px';
relay3.style.top = 40+'px';



var dot3 =  document.getElementById("dot3");
 dot3.style.position="absolute";
 dot3.style.left = 20+'px';
dot3.style.top = 20+'px';


var relay4 =  document.getElementById("relay4");
 relay4.style.position="absolute";
 relay4.style.left = 530+'px';
relay4.style.top = 40+'px';



var relay5 =  document.getElementById("relay5");
 relay5.style.position="absolute";
 relay5.style.left = 480+'px';
relay5.style.top = 300+'px';



var enternumber =  document.getElementById("gennumber");
 enternumber.style.position="absolute";
 enternumber.style.left = 820+'px';
enternumber.style.top = 70+'px';

$("#dot6").css("background-color", "red");
$("#dot7").css("background-color", "blue");

var buttonz =  document.getElementById("dot6");
 buttonz.style.position="absolute";
 buttonz.style.left = 880+'px';
buttonz.style.top = 240+'px';

var resetz =  document.getElementById("dot7");
resetz.style.position="absolute";
resetz.style.left = 1000+'px';
resetz.style.top = 240+'px';

 var x1 =  document.createElement("div34");
      x1.style.position="absolute";
x1.style.left = 830+'px';
x1.style.top = 270+'px';
x1.innerHTML = "Generator down";
document.body.appendChild(x1);


var x2 =  document.createElement("div35");
      x2.style.position="absolute";
x2.style.left = 970+'px';
x2.style.top = 270+'px';
x2.innerHTML = "Helper generator";
document.body.appendChild(x2);


//////////////

//ns
      var networkstate =  document.createElement("div1");
       networkstate.style.position="absolute";
networkstate.style.left = 30+'px';
networkstate.style.top = 70+'px';
networkstate.innerHTML = "State of Network:";
document.body.appendChild(networkstate);


//ns2
 var machinereasoning =  document.createElement("div2");
       machinereasoning.style.position="absolute";
machinereasoning.style.left = 30+'px';
machinereasoning.style.top = 170+'px';
machinereasoning.innerHTML = "Machine's Action:";
document.body.appendChild(machinereasoning);


//ns3

 var mq =  document.createElement("div3");
       mq.style.position="absolute";
mq.style.left = 30+'px';
mq.style.top = 270+'px';
mq.innerHTML = "Error Rate:";
document.body.appendChild(mq);



 var instructions =  document.createElement("div4");
       instructions.style.position="absolute";
instructions.style.left = 630+'px';
instructions.style.top = 30+'px';
instructions.innerHTML = "Write the number of a generator the generator that would go out. The A.I. would then chose the best back-up generator(s)";
//document.body.appendChild(instructions);


//
//box
//

//////////

function checkState (){

if ($("#dot1").css("background-color") === 'rgb(0, 128, 0)' && $("#dot2").css("background-color") === 'rgb(0, 128, 0)' && $("#dot3").css("background-color") === 'rgb(0, 128, 0)' && $("#dot4").css("background-color") === 'rgb(0, 128, 0)' && $("#dot5").css("background-color") === 'rgb(0, 128, 0)' ) {
	
	networkstate.innerHTML = "State of Network:1";
}
if (countError>=1) {
    var totalerror = countError/5;
    totalerror = 1- totalerror;
    totalerror=totalerror*100;

var string = 'State of Network is running at  '+totalerror+'%'
	networkstate.innerHTML = string;
}


	
}


function resetsample () {
	data = ['1','2','3','4','5'];
	countError=0;
	$("#dot1").css("background-color", "green");
	$("#dot2").css("background-color", "green");
	$("#dot3").css("background-color", "green");
	$("#dot4").css("background-color", "green");
	$("#dot5").css("background-color", "green");
}

setTimeout(selectgen,1000)
function selectgen () {

var inputvalue = document.getElementById("gennumber").value
inputvalue=data[Math.floor(Math.random()*data.length)];//Math.floor(Math.random() * 5) + 1;
document.getElementById("gennumber").value=inputvalue
aipick=inputvalue;
if (inputvalue.length<1) {
alert("Please enter the number of the generator that is hypothetically down")

}
redcell=inputvalue;
console.log(fromLearneddata,fromLearneddata2)
// var vf= inputvalue.toString();
// var index = data.indexOf(vf);
// data.splice(1, index)
// console.log('n', data)
if (inputvalue=='1') {
	$("#dot1").css("background-color", "red");
countError++;
}

if (inputvalue=='2') {
	$("#dot2").css("background-color", "red");
	countError++;
}
if (inputvalue=='3') {
	$("#dot3").css("background-color", "red");
	countError++;
}
if (inputvalue=='4') {
	$("#dot4").css("background-color", "red");
	countError++;
}
if (inputvalue=='5') {
	$("#dot5").css("background-color", "red");
	countError++;
}


setTimeout(choosegen,2000)
}






function choosegen () {
var numberOfoptions = 5; //total number of generators. 

//console.log(data)

var choice = data[Math.floor(Math.random()*data.length)];
aianwser=choice;
//console.log('yoyoy',fromLearneddata,fromLearneddata2)
var checkinde;
// if (fromLearneddata.length==5) {
// 	console.log('fully learned!!!!!!!!!!!!')
//  checkinde = fromLearneddata.indexOf(choice);
// // console.log('yoyoy',checkinde,fromLearneddata)
// }
machinereasoning.innerHTML='';
machinereasoning.innerHTML = "Choose random generator";

if (learndone1==1 && redcell=='1') {
		checkinde=fromLearneddata.indexOf('1');
		choice=fromLearneddata2[checkinde];
		console.log('for 1', checkinde, fromLearneddata, choice)
		machinereasoning.innerHTML = "Choose learned generator";

	}
	if (learndone2==1 && redcell=='2') {
		checkinde=fromLearneddata.indexOf('2');
		choice=fromLearneddata2[checkinde];
		console.log('for 2', checkinde, fromLearneddata, choice)
			machinereasoning.innerHTML = "Choose learned generator";

	}

		if (learndone3==1 && redcell=='3') {
		checkinde=fromLearneddata.indexOf('3');
		choice=fromLearneddata2[checkinde];
		console.log('for 3', checkinde, fromLearneddata, choice)
		 	machinereasoning.innerHTML = "Choose learned generator";

	}


		if (learndone4==1 && redcell=='4') {
		checkinde=fromLearneddata.indexOf('4');
		choice=fromLearneddata2[checkinde];
		console.log('for 4', checkinde, fromLearneddata,choice)
			machinereasoning.innerHTML = "Choose learned generator";

	}

		if (learndone5==1 && redcell=='5') {
		checkinde=fromLearneddata.indexOf('5');
		choice=fromLearneddata2[checkinde];
		console.log('for 5', choice,checkinde, fromLearneddata)
			machinereasoning.innerHTML = "Choose learned generator";

	}
console.log('final',choice,redcell)
if (choice=='1') {
	$("#dot1").css("background-color", "blue");

}

if (choice=='2') {
	$("#dot2").css("background-color", "blue");
	
}
if (choice=='3') {
	$("#dot3").css("background-color", "blue");
	
}
if (choice=='4') {
	$("#dot4").css("background-color", "blue");
	
}
if (choice=='5') {
	$("#dot5").css("background-color", "blue");
	
}









//valid.style.visibility='visible';

setTimeout(supercheck,2000)

}

function validate () {
	for(var i=0; i<data.length;i++) {
		var m= data[i];

		if (m==1) {
			$("#dot1").css("background-color", "green");
		}
		if (m==2) {
			$("#dot2").css("background-color", "green");
		}
		if (m==3) {
			$("#dot3").css("background-color", "green");
		}
		if (m==4) {
			$("#dot4").css("background-color", "green");
		}
		if (m==5) {
			$("#dot5").css("background-color", "green");
		}

	}
choosegen();
}


function supercheck () {

	var answers =[1,2,3,4,5]
	var huida =[3,5,4,3,2]
	var checkerror=0;
if (aipick=='1' && aianwser=='3' && learndone1==0) {

	console.log('correct1')
	fromLearneddata.push('1')
	fromLearneddata2.push('3')
	learndone1=1;
	checkerror=1;

}

if (aipick=='2' && aianwser=='5' && learndone2==0) {

	console.log('correct2')
	fromLearneddata.push('2')
	fromLearneddata2.push('5')
	learndone2=1;
	checkerror=1;

}

if (aipick=='3' && aianwser=='4' && learndone3==0) {

	console.log('correct3')
	fromLearneddata.push('3')
	fromLearneddata2.push('4')
	learndone3=1;
	checkerror=1;

}
if (aipick=='4' && aianwser=='3' && learndone4==0) {

	console.log('correct4')
	fromLearneddata.push('4')
	fromLearneddata2.push('3')
	learndone4=1;
	checkerror=1;

}
if (aipick=='5' && aianwser=='2' && learndone5==0) {

	console.log('correct5')
	fromLearneddata.push('5')
	fromLearneddata2.push('2')
	learndone5=1;
	checkerror=1;

}
errorpop++
if (checkerror==0) {
var trueerror = 100/errorpop;
var string = 'Error Rate = '+trueerror+''
if (fromLearneddata.length==5) {
string='No Error'
}
mq.innerHTML = string;
}
resetsample();
setTimeout(selectgen,2000)

}


</script>

</html>
