<html> 
<head> 

<style type="text/css">
  canvas { border: 1px solid #ccc }
@keyframes blink {
    0% {
        opacity: 1;
    }
    50% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}
  .my_animation1{
    animation: blink 3s 0.2s;
    animation-iteration-count: infinite;
}
  .my_animation2{
    animation: blink 3s 1s;
    animation-iteration-count: infinite;
}
  .my_animation3{
    animation: blink 3s 1.8s;
    animation-iteration-count: infinite;
}

  .ribbon {
  position:absolute;
  top:0;
  right:0;
}
  .ribbon1 {
  position:absolute;
  top:100;
  right:12;
}
</style>
<!-- <canvas id="c" width="1000" height="500"></canvas> -->


<!-- <div style="text-align: center; padding: 50px">
  <div style="display: inline-block; margin-right: 50px;position: absolute;left: 200px;top:200px">
    <img src="greencircle.png" width="100" height="100" style="opacity:0.5" id="img1">
  </div>
  <div style="display: inline-block; margin-right: 50px;position: absolute;left: 400px;top:200px">
    <img src="redcircle.png" width="100" height="100" style="opacity:0.5" id="img2">
  </div>
  <div style="display: inline-block;position: absolute;left: 600px;top:200px">
    <img src="yellowcircle.png" width="100" height="100" style="opacity:0.5" id="img3">
  </div>
  <div>
  <img src="brain-connectivity.png" width="700" height="500">

  </div> -->
<!-- 
  <div><canvas id="fft" width="512" height="200" ></canvas></div> -->
  <input type="button" onclick="testbaby()" value="Test" style="float: right;">
<input type="button" onclick="done()" value="Stop Analysis" style="float: right;">
<input type="button" onclick="Palpha()" value="Voice Analysis" style="float: right;">
<input type="button" onclick="newperson()" value="begin" style="float: right;">
  <textarea id="textarea" rows=10 cols=80></textarea>
<!-- <button id="button" onclick="toggleStartStop()","draw()"></button> -->
<!-- <textarea id="fg" rows=5 cols=80 style="float: right;"></textarea> -->


 


<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

<script src='https://code.responsivevoice.org/responsivevoice.js'></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.0.4/d3.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

<script type="text/javascript"> 

var shubaby=0;
var voiceOutput;
var checklastvoiceoutput=[];

 var myTimer; 
 var beginanalysis=0;
 var sumofperson=[];
 var sumofperson2=[];

var inputs=[];
var trainingoutputs=[1,-1];
 var countperson=0;
 var specialcase=0;
 var sumnewtest=[];
// var bell = new Wad({source : 'PlayStation.mp3'})
// bell.play()
// bell.stop()
///Sound visualization
var inputQ;
function done () {
clearTimeout(myTimer);
console.log('i am done', sumofperson)
var one=0;
var two=0;
if (sumofperson.length>1) {
for(var i=0; i<sumofperson.length;i++){
  one+=sumofperson[i]/1.618;
 
}
}

if (sumofperson2.length>1) {
for(var i=0; i<sumofperson2.length;i++){
  two+=sumofperson2[i]/1.618;

}
}
inputs[0]= one;
inputs[1]= two;
console.log('iamdone2',sumofperson2)
console.log('inputs', inputs)


beginanalysis=0;
if (sumofperson.length>1 && sumofperson2.length>1) {
 // neuralnetwork();
}
var three=0;
if (specialcase==1) {
for(var i=0; i<sumnewtest.length;i++){
  three+=sumnewtest[i]/1.618;


}


inputQ=three;
//neuralnetwork();
}


}

function testbaby () {

  beginanalysis=1; 
  specialcase=1;



}
function getAverageVolume(array) { 
    var values = 0;  

    // get all the frequency amplitudes 
    for (var i = 0; i < array.length; i++) { 
        values += array[i]; 
    } 
    return values / (array.length); 
} 
var dataArray;
    var barHeight;
   var average;
   var superArrayHigh = new Array;
   var superArrayLow = new Array; 
   var rateArray = new Array;
    var finalrateArray = new Array;
    
function onSuccess(stream) { 

  

    var context = new (window.AudioContext || window.webkitAudioContext)();
    var mediaStreamSource = context.createMediaStreamSource(stream); 
     
    var analyser = context.createAnalyser(); 
    analyser.smoothingTimeConstant = 0.3; 
    analyser.fftSize = 1024; 
    analyser.frequency= 432; 
     
    var javascriptNode = context.createScriptProcessor(2048, 1, 1); 
     
    javascriptNode.onaudioprocess = function(e) { 
        //var sample = e.inputBuffer.getChannelData(0); 

if (beginanalysis==1) {
  console.log('ron',beginanalysis)
//myTimer=setTimeout(Palpha, 2000);
Palpha();
}
        // get the average, bincount is fftsize / 2 
        dataArray =  new Uint8Array(analyser.frequencyBinCount); 
        analyser.getByteFrequencyData(dataArray); 
         //console.log(dataArray);
        // calculate average 
         average = getAverageVolume(dataArray) 
        // setTimeout(Palpha, 3000);//timer
        // print value out 
        //log(average); 
// console.log(average);
        if (average >= 85) {
          //console.log('rude', average);
          superArrayHigh.push(average);
          
        }

        if (average <= 10) {

          //console.log('soft', average);
        superArrayLow.push(average); 
        }
         

    }; 
     
    // stream -> mediaSource -> analyser -> javascriptNode -> destination 
    mediaStreamSource.connect(analyser); 
    analyser.connect(javascriptNode); 
    javascriptNode.connect(context.destination); 


}
function onError() { 
    alert('Error'); 
} 

function log(logVal) { 
    getLog().innerHTML = logVal + '\n<br>'; 
} 

function getCanvas() { 
    return document.getElementById('mycanvas'); 
}     
  
function getLog() { 
    return document.getElementById('mylog'); 
} 
   
function documentReady() { 
    if(navigator.getUserMedia) { 
        navigator.getUserMedia({video: false, audio: true}, onSuccess, onError); 
    } else if(navigator.webkitGetUserMedia) { 
        navigator.webkitGetUserMedia({video: false, audio: true}, onSuccess, onError); 
    } 
} 

//Sound

var recognizing;

var recognition = new webkitSpeechRecognition();
recognition.continuous = true;
//recognition.lang = 'zh-cn';
reset();
recognition.onend = reset();


recognition.onresult = function (event) {
  //startaudio();
  for (var i = event.resultIndex; i < event.results.length; ++i) {
    if (event.results[i].isFinal) {
      textarea.value += event.results[i][0].transcript;
    }
  }
}

function reset() {
  recognizing = false;
  //button.innerHTML = "Click to Speak";

}

function toggleStartStop() {
  console.log('wood');

console.log('clm')

  if (recognizing) {
    recognition.stop();
     if (superArrayHigh.length > superArrayLow.length) {
      //document.getElementById("textarea").value ="YOU ARE TOO ANXIOUS OR EXCITED.";
     }

       if (superArrayLow.length > superArrayHigh.length) {
      //document.getElementById("textarea").value ="YOU ARE CALM AND NOT WORRIED.";
     }

    reset();
  } else {
    recognition.start();
    document.getElementById("textarea").value ="";
     document.getElementById("fg").value ="";
     //console.log(finalrateArray);
    //superArrayLow =[];
    //superArrayHigh=[];
    console.log('speaking');
    
    recognizing = true;
     button.innerHTML = "Click to Stop";
  }



}





















function newperson () {

  countperson+=1;
}


function Palpha() {
  beginanalysis=1;
  
  shubaby+=1;
  var input=document.getElementById('textarea').value;
var content=input.split(" ");//words
    var sorted = [];
for (var i = 0; i < content.length; i++) {
    sorted.push(content[i].toLowerCase());
}

//sorted.sort();
content = sorted; 
var array=["I", "she"];
var array2=["bought", "saw", "see"];
var array3=["dog", "cat"];
var array4=["cute", "nice"];
var array1=array2.concat(array3,array4);
//document.write(array1);

var posalpha = new Array;
var neualpha = new Array;
var negalpha = new Array;


if (average >= 120) {
         //high
          
        }

        if (average <= 20) {

         //low
        }

        var z = 0;
var gong =0; 
var p =0; 
var cheng =0; 
var sum = 0;
var sum2 = 0;
if (superArrayLow!= null && superArrayHigh!= null) {//
  for (i=0; i<superArrayHigh.length;i++){
 var string = superArrayHigh[i];
  sum = sum + string;
}

for (i=0; i<superArrayLow.length;i++){
 var string = superArrayLow[i];
  sum2 = sum2 + string;
}

var firstq =0;
firstq = sum + sum2;

 z = firstq / 2;
var firstq2 = superArrayHigh.length + superArrayLow.length;
gong = firstq2/2;
p = z/gong; 

if (sum > sum2) {
  cheng = sum - sum2; 
}
if (sum2 > sum) {
  cheng = sum2 - sum; 
}
 console.log(sum, sum2, 'break');
 console.log(z, gong, 'rum = p');
 console.log(p, cheng, 'ice = result');

if (p>cheng && sum > sum2) {

  console.log('Boy you are angry');
}
if (p<cheng && sum > sum2) {

  console.log('You seem kind of calm');
}

if (p>cheng && sum2 > sum) {

  console.log('You are happy');
}
if (p<cheng && sum2 > sum) {

  console.log('Are you kind of sad?');
}

//console.log(pneuron,neneuron,negneuron);

console.log(sum,sum2);

var golden = 1.618;
var omega = sum + sum2;
omega= gong/golden;

var sio = p/golden;
var doublesio = 0; 
if (sio < omega) {
  console.log('sio');
  doublesio = sio/omega; 
}
if (omega < sio) {
  console.log('omega');
  doublesio = omega/sio; 
}

var apple = 0; 

apple = doublesio/3.14; 

var measuerapple = Math.cos(apple);
//responsiveVoice.speak("Hello World");


//omega= omega *1.618; 
var difference = sum - sum2;
var cycles=0;
if (sum ==0) {
sum=1; 
}
if (sum>sum2) {
 cycles = sum/sum2;
}
if (sum2>sum) {
  cycles = sum2/sum;
}



var hf = sum;
var lf = sum2;

var topbar = hf + lf;

// var eccentricty = Math.sqrt((sum*sum)+ (sum2 * sum2))/ omega * (sum + sum) + Math.sqrt((sum*sum)+ (sum2 *sum2))  ;
//1
var finalF = Math.sqrt(topbar);
//2
var weightSide = omega;
var tyu = weightSide + finalF;
var laststepbefore = finalF/tyu;
console.log(finalF,tyu,laststepbefore);

var jieshu = Math.sqrt(laststepbefore);
var chak = omega/72; 
var fourier = Math.sin(topbar);
var fourier2 = 2 * fourier;
var bottom2 =(Math.PI * golden);
var check = (fourier2 + Math.cos(bottom2));
var finalfourier = fourier2/(fourier2 + Math.cos(bottom2));
var swithg = Math.cos(fourier);

var xyz = Math.sin(jieshu + (fourier+swithg)/cycles);

//new
var andy;
var bandy;
andy = hf / golden;  //Math.cos(hf) + Math.sin(hf);
bandy = lf / 3.14; //Math.sin(lf) - Math.cos(lf); 
var andy2 = Math.abs(andy);
var bandy2 = Math.abs(bandy);
var loto = bandy2+andy2
var proto = andy/loto;

// hf = 85;
// lf = 15; 
var fele1 = hf * (1.618 + 3.14);
var fele2 = lf * (1.618 + 3.14);
var felesum = fele1 + fele2;
var finalele12=0;
 finalele12= Math.sqrt(felesum);

var ly= (1.618/3.14) * 2;

 var equation = Math.sqrt(felesum + ly/ 2*(felesum + ly) + felesum*felesum);

var bottomelement = 2 * (hf + lf);

var ecco = 0;
ecco= Math.sqrt(finalele12/(bottomelement + finalele12));


var  fofx = (2 * ((2 * hf) + (2 * lf))  - ecco)/lf;



var basicAverage = (2 * ((2 * hf) + (2 * lf)) - 2 * ((2 * hf) + lf))
var lowerf = basicAverage/lf; 
// var basicAverage2 = (hf+lf)/2;

var answer =  basicAverage/1.618;

var inputsin = basicAverage * ecco;
var sinform = Math.sin(inputsin);

var sumpat = sinform + cosform;

var cosform = Math.cos(inputsin) * 2; 


var tx1 = Math.sin(basicAverage);
var gx1 = tx1/golden;

var vx1 =  3.14;
var ax1 = Math.sqrt(vx1)
var qx1 = Math.sin(gx1*vx1)

console.log('pen', sinform,cosform);

if (sinform < cosform) {
  //console.log('negative book'); 
  //responsiveVoice.speak("Emotion is negative");
}

if (sinform > cosform) {
  //console.log('negative book'); 
  //responsiveVoice.speak("Emotion is positive");
}

// console.log('sar', finalele12, ecco, fofx, answer, lf,  lowerf);
// console.log('golden', topbar,chak,fourier,finalfourier, check,  cycles,jieshu,xyz, andy2, bandy2,proto);
// console.log('exclusive', qx1)
// console.log('cry', xyz)
if (countperson==1 && specialcase==0) {
sumofperson.push(jieshu);
}
if (countperson==2 && specialcase==0) {
sumofperson2.push(jieshu);
}


if (specialcase==1) {
  sumnewtest.push(jieshu);
}

if (chak>=0.3 && chak <0.35) {
  console.log('it is ni')

  //responsiveVoice.speak('knee')
}
if (chak>=0.43 && chak <=0.49) {
  console.log('it is wo')
 // responsiveVoice.speak('Wo')
}
if (xyz <0.5) {
  console.log(xyz)
  //responsiveVoice.speak("Emotion is negative");
}
if (xyz>= 0.5) {
  console.log(jieshu)
  //responsiveVoice.speak("Emotion is positive");
}


// }
}//

console.log('hidden', p, omega, gong, sio, 'final', doublesio, apple, 'comparison', measuerapple, jieshu)

//equation=Math.sin(equation) + omega/(equation*1.618)
//equation=equation/(equation*1.618)
console.log('wo pao', finalele12, ecco, equation)
var pleasego=0;
if (equation==checklastvoiceoutput[checklastvoiceoutput.length-1] && checklastvoiceoutput.length>=1) {

pleasego=1;
}
checklastvoiceoutput.push(equation);
if (pleasego==0) {
  voiceOutput=equation
  makeCircle();
}

}


//neso

var counterup=0;

var dummyArray = new Array;



function makeCircle () {
//counter+=1;
var string= 'circle'+shubaby;

  var width = 200,
    height = 200,
    radius = 100,
    side = 2 * radius * Math.cos(Math.PI / 4),
    dx = radius - side / 2;

var svg = d3.select('body').append('svg')
    .attr('width', width)
    .attr('height', height);

svg.append('circle')
   .attr('cx', width / 2)
   .attr('cy', height / 2)
   .attr('r', radius)
   .attr('fill', 'steelblue');
  

var g = svg.append('g')
   .attr('transform', 'translate(' + [dx, dx] + ')');

g.append("foreignObject")
    .attr("width", side)
    .attr("height", side)
    .attr("id", string)
    .append("xhtml:body")
    .style("font", "12px 'Helvetica Neue'")
    .html(voiceOutput);




    var all = document.getElementsByTagName("*");
 for (var i=0, max=all.length; i < max; i++) {
     // Do something with the element here
     var pop=all[i];
     var get = pop.id;

     if (get.indexOf('circle')>-1) {
var gh=  document.getElementById(get).text;
//console.log(gh)
     }
    }


}







///neural network

function neuralnetwork () {
  var  yellow =0;

var red =0; 
var green=0;
var stopanimation=0;
test();
   function test(){

      if (stopanimation==1) {
        $("#img1").removeClass('my_animation1');
        $("#img2").removeClass('my_animation2');
        $("#img3").removeClass('my_animation3');
        var element = document.getElementById('img1');
            element.style.opacity = "1.0";
            var element2 = document.getElementById('img2');
          element2.style.opacity = "1.0";
        var element3 = document.getElementById('img3');
            element3.style.opacity = "1.0";
      }
      if (stopanimation==0) {
      if (red==0 && yellow==0) {
        $("#img1").addClass('my_animation1');
        console.log('animation')
      }
     
     if (red==1) {
       $("#img2").addClass('my_animation2');
       red=0;
     }
    if (yellow==1) {
       $("#img3").addClass('my_animation3');
       yellow=0;
    }

}
    
   }
console.log(inputs.length);
console.log(trainingoutputs.length)
  //predicter input


var dontchangeweight=0;
var remembermultiplier=[];
var secretindex=[];
var secretanswer=[];
console.log(inputs, trainingoutputs)
var weights =[]; 
var originalweights=[];
var masterweights=[];

var secretweight=[];
var totalerror=[];
perception(); //generates the weights


//the orgin of thought, the brain. 
function perception () {
weights = [];
 for (var i = 0; i < inputs.length; i++) {
var num = Math.random(Math.random() * -1 + 1);
     weights.push(num);
      originalweights.push(num);
      // weights[i] = random(-1,1);
    }
    //originalweights=weights;
console.log('normal weight', originalweights)
}




  var sum = 0;
 var massivesum=[];
  feedforward();
 
 //where the input collides with the generated thought/function/or weight. This is where the result is determined.
function feedforward () {
  // console.log('tho9', weights)
    for (var i = 0; i < weights.length; i++) {
      sum = inputs[i]*weights[i];//if no +  i had sum+=1
      //console.log('tho9', inputs[i], 'tho9', weights[i],'sum', sum)
//console.log(massivesum.length)
if (sum > 0) {
 
  output='output is 1';
  var array=[1, 2, 3, 4,5];
 var randy= array[Math.floor(Math.random()*array.length)];
remembermultiplier.push(randy);

  var kid=1;

   massivesum.push(kid);
   //console.log('result', output);
}


if (sum< 0) {
   output='output is -1';
  var array=[-1, -2, -3, -4,-5];

 var randy= array[Math.floor(Math.random()*array.length)];

  var kid=-1;
  //console.log('randy',kid)
massivesum.push(kid);
//console.log('result', output);
}

dontchangeweight=0; 
//console.log('annoy',sum)

// if (sum<=1) {
//   output='output is 1';
//   var kid=1;
// console.log('first',sum)
//    massivesum.push(kid);
// }

// if (sum>1 && sum<=2) {
//   output='output is 2';
//   var kid=2;
// console.log('second',sum)
//    massivesum.push(kid);
// }

// if (sum>2 && sum<=3) {
//   output='output is 3';
//   console.log('third',sum)
//   var kid=3;

//    massivesum.push(kid);
// }


// if (sum>=4) {
//   output='output is 4';
//   console.log('fourth',sum)
//   var kid=4;

//    massivesum.push(kid);
// }



         // massivesum.push(sum);

    }

    // var randominput = inputs[Math.floor(Math.random()*inputs.length)];
    // var randomweight = weights[Math.floor(Math.random()*weights.length)];
// console.log('guesses', massivesum)
// console.log('desired', trainingoutputs)

  train();


    //sum=0; 
    // console.log('randominput', randominput)
    //   console.log('randomweight', randomweight)
    //sum += randominput*randomweight;

        //return activate(sum);
}







///training 





//you train the Results here. If the results are wrong you have to re－adjust the weights/function/thought. After the training phase, the ai gives you new results and then I can tell the Ai to save the function that gave it the right answer. If the ai is wrong, it has to adjust the function and go through the training stage again. This flow is repeated infinitely until the ai gets it right. everytime it goes through the training stage the function that the ai creates should be a better version. We do not want to simply have the ai create through randomization, as learning time is unpredictable because it is based on chance. -Matthew Xiu Quaine _马修金


function train () {
var learningrate = 0.09;
 //totalerror=[];
  //console.log('massive',massivesum.length)
  for(var m = 0; m<massivesum.length; m++) {//
var guess = massivesum[m];
var desired = trainingoutputs[m];
var error = desired - guess;
if (totalerror.length<inputs.length) {
totalerror.push(error);
}
if (totalerror.length==weights.length) {
  var index = totalerror[m];

var nono=0;
index=parseInt(index)
if (index==0) {
  
  nono=1;
  }

  if (nono==0) {
    //console.log(index)
    totalerror[m] = error;
  }
   
}



 // for (var i = 0; i < weights.length; i++) {
 //    weights[i] += learningrate * error * inputs[i];//massivesum
 //  }

  }//
 
   //console.log('total error', totalerror, 'length',weights.length)

  // //if error is zero, don't adjust the weight
  //  console.log('adjusted weights', weights)

   //feedforward();

     var checkItem = totalerror[0];
     //check when total error = 0;
     var countup=0;
//          var p=totalerror[i];
//  if (p==0||p==1||p==2||p==3) {
// countup+=1
//  }
// if (countup==totalerror.length) {
//  isSame=1;
//  break;
// }
var isSame = 0;
for (var i = 0; i < totalerror.length; i++) {


isSame=1;
  if (totalerror[i] != checkItem) {
    isSame = 0;
    break;
  }


}
// return isSame;
if (isSame==1) {
  console.log('finish')
  stopanimation=1;
  test();
inputQ=inputQ;//47对   100-129  wrong 30000- midpoint calculations
// if (multiinput==1) {
// gg=0;
// coun=0;
  // for(var i =0; i< inputQ.length; i++) {

   //var ff = inputQ[i];
//   var ff = inputQ.replace(/,/g, "");
//    //console.log('zz',ff, coun)
//   for (var j=0; j < ff.length; j++) {
//     var Nummy=ff[j]
//     Nummy=parseInt(Nummy);
//     //console.log(ff.length)
//      //console.log(Nummy)
//       //var nummy = Num.charAt(j);
// coun+=1;
//  gg = gg + Nummy;
//  if (coun==ff.length) {
//  console.log('champ',gg)
//       inputQ=gg;
//       coun=0;
//       gg=0;
//     }
//    }
//}

//   var ff = inputQ.replace(/,/g, "");
//   console.log(ff)
//   var ff1=ff.charAt(0);
//   var ff2=ff.charAt(1);
//   var ff3=ff.charAt(2);
//   //var ff4=ff.charAt(3);
// ff1=parseInt(ff1);
// ff2=parseInt(ff2);
// ff3=parseInt(ff3);
// //ff4=parseInt(ff4);
//   var gg=ff1+ff2+ff3;
//   inputQ=gg;

//}
  setTimeout(predict,1000)
}

if (isSame==0) {
  setTimeout(dontchange,1000)

}


}




function dontchange () {
//   console.log('what',originalweights)
// weights=originalweights;
//console.log('what222',weights)
var newweights=[];
//console.log(totalerror)

 for (var i = 0; i < totalerror.length; i++) {
var dd=0;
//console.log('bott',weights.length)
  var st=totalerror[i];
  //var st2=weights[i];
  var st3=weights[i];
  // if (newweights.length>1) {
  //   st2=newweights[i];
  //   console.log('ryu', st2)
  // }
  //st=parseInt(st)
//console.log('ss5',st)

//console.log('pop', st, st3)
  if (st=='0'||st==0) {
    //console.log('pop2',remembermultiplier)
    dontchangeweight=1;
    secretindex.push(st)
    //console.log('pop3',secretindex)

dd=1;
yellow=1;
  var element3 = document.getElementById('img3');
            element3.style.opacity = "1.0";
test();
    //console.log('dont change weight', st3)
newweights.push(st3)//get original weight because not wrong

  }
  if (dd==0) {
    //console.log('pop3')
    red=1;
    test();
  //console.log('change weight')
   var pt;
   if (secretweight.length==1) {
    pt=secretweight[0];
   }
  if (secretweight.length>1) {
     pt = secretweight[secretweight.length - 1];
  }
  
st2 = Math.random(Math.random() * -1 + 1);   //if i put -1 it is a bias//-1

var changeweight = pt-st2;
var finalweight=Math.abs(changeweight);
//console.log('that cookie',finalweight)
if (finalweight<=0.5) {
  st2=st2-0.5;
  

  //console.log('that brownie',st2)
}
secretweight.push(st2);
  newweights.push(st2)
}

 }


secretindex=[]
remembermultiplier=[];

 //console.log(newweights)
  //console.log('still error', newweights)
  weights=[];
 weights=newweights;


///newweights=[];
 sum=0;
 //totalerror=[];
 massivesum=[];


  //console.log('corrected weights',weights)

  
 feedforward();
   

     //setTimeout(train,5000)
  


}


function predict () {
  var differencearray=[];
for(var i=0; i<inputs.length; i++) {
    var int=inputs[i];
   var num1 = inputQ-int;
   var num2 =Math.abs(num1);
   differencearray.push(num2);



}
    console.log(differencearray)

    Array.min = function( array ){
    return Math.min.apply( Math, array );
};

var minimum = Array.min(differencearray);
console.log(minimum)

var index= differencearray.indexOf(minimum);

var orgininput=inputs[index];//input

var thatweight = weights[index];

console.log(weights);
console.log(totalerror)


var result= inputQ*thatweight;
var thatanwser=trainingoutputs[index];

//dui de answer
console.log(orgininput,thatanwser)


//result=Math.log(result);
//result=Math.sqrt(result)
console.log(result, thatweight, inputQ)



if (result>0) {
  console.log('1');
  document.getElementById('textarea').value='person 1'
}

if (result<0) {
  console.log('-1');
  document.getElementById('textarea').value='person 2'
}

//}

// result=result-1;
//  var needtolearn=0; 

// if (result==thatanwser) {

//  needtolearn=1; 
// }

// if (needtolearn==0) {

// var dd = orgininput-inputQ;
// dd = Math.pow(dd, 2);

// var final = thatanwser/inputQ;
// console.log(dd, thatweight, final)
// result=final*inputQ;

// //change weight
// console.log('before',weights[index]);
//  weights[index]=final;
// console.log('after',weights[index]);
 //inputQ=81;
   // setTimeout(predict,3000)

// }
// if (result<=1) {

// console.log('final answer = 1')
  
// }

// if (result>1 && result<=2) {
//  console.log('final answer = 2')
// }

// if (result>2 && result<=3) {
// console.log('final answer = 3')
// }


// if (result>3 && result<=4) {
// console.log('final answer = 4')
// }

// if (result>=5) {
// console.log('final answer = 5')
// }

}


}// neural network



</script> 
</head> 

<body onload="documentReady();"> 
  <!--  <canvas id="mycanvas"></canvas>  -->
   <div id="mylog"></div> 
</body> 
</html>
