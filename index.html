<!DOCTYPE html>
<html>
<head>
<title>Title of the document</title>
</head>

<style type="text/css">
.page-wrap {
width: 1000px;
margin: 0 auto;
position: relative;
}
	  .dragme{
			position:relative;
			width: 40px;
			height: 40px;
			cursor: move;
		}
	#draggable {
			background-color: #ccc;
			border: 1px solid #000;
		}

  #container {
  width: 80px;
  height: 80px;
  position: relative;
  background: pink;
 border: 1px solid black;
  z-index: -1;
}


.bb {
  width: 580px;
  height: 600px;
  position: relative;
 border: 1px solid black;
  z-index: -1;
}
</style>

<div  id="1">
	<img src="uparrow.png"  class="dragme" id="shang" >
</div>

<div  id="2">
	<img src="leftarrow.png"  class="dragme" id="zuo" >
</div>
<div  id="3">
	<img src="rightarrow.png"  class="dragme" id="you" >
</div>

<div  id="4">
	<img src="downarrow.png"  class="dragme" id="xia" >
</div>



<div id="bean">
	<img src="bean.png" id="v1" width="20"; height="20">
</div>

<div id="vessel2">
	<img src="bean.png" id="v2" width="20"; height="20">
</div>

<div id="vessel3">
	<img src="bean.png" id="v3" width="20"; height="20">
</div>
<div id="vessel4">
	<img src="bean.png" id="v4" width="20"; height="20">
</div>
<div id="vessel5">
	<img src="bean.png" id="v5" width="20"; height="20">
</div>

<div id="thecase">
	<img src="nes.png" width="60"; height="60" >
</div>


<div id="border"   class="bb">
</div>
<!-- <div id ="container1" class="container">

</div>
<div id ="container">
<div id ="container2"></div>
</div>
<div id ="container">
<div id ="container3"></div>
</div>
<div id ="container">
<div id ="container4"></div>
</div>
<div id ="container">
<div id ="container5"></div>
</div>
<div id ="container">
<div id ="container6"></div>
</div> -->

<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script>

var left =0;
var right =0;
var up =0;
var down=0; 
	//organize UI
	var yaxis=90;
 var submitbuz =document.getElementById('bean');
submitbuz.style.position="absolute";
submitbuz.style.left = 540+'px';
submitbuz.style.top = yaxis+'px';
//


 var ase =document.getElementById('thecase');
ase.style.position="absolute";
ase.style.left = 540+'px';
ase.style.top = 520+'px';


var bigbox=document.getElementById('border');
bigbox.style.position="absolute";
bigbox.style.left = 540+'px';
bigbox.style.top = 10+'px';

//
	var determineimage;
	var determineimage2;		
	var determineimage3;			
	var determineimage4;
	var determineimage5;
fall();

var pickfunction = Math.floor(Math.random() * 10) + 1;
var pickfunction2 = Math.floor(Math.random() * 10) + 1;
var pickfunction3 = Math.floor(Math.random() * 10) + 1;
var pickfunction4 = Math.floor(Math.random() * 10) + 1;

if (pickfunction<=5) {
	fall2();
}
if (pickfunction<=5) {
	fall3();
}
if (pickfunction<=5) {
	fall4();
}
if (pickfunction<=5) {
	fall5();
}

function changeImage () {
determineimage=Math.floor(Math.random() * 15) + 1;
 	if (determineimage<=5) {
 		document.getElementById("v1").src= 'bean.png'
 	
 		console.log('what the hell')
 	}


 	if (determineimage>5 && determineimage<10) {
 		document.getElementById("v1").src= 'salt.png'
 	
 		console.log('what the hell')
 	}



 	if (determineimage>=10) {
 		document.getElementById("v1").src= 'cream.png'
 	
 		
 	}
}
 function fall () {
 
  var elem = document.getElementById("bean");   
  var pos = 0;
  var id = setInterval(frame, 10);
  function frame() {
    if (pos == 550) {

    	pos=0;
    	elem.style.position="absolute";
    	elem.style.left= Math.floor(Math.random() * 510) + 500+'px';
    	console.log('wo cao', determineimage)
    	changeImage();
      //clearInterval(id);
    } else {
      pos++; 
      elem.style.top = pos + 'px'; 
      // elem.style.left = pos + 'px'; 
    }
  
}


}



function fall2 () {
  var elem = document.getElementById("vessel2");   
  var pos = 0;
  var id = setInterval(frame, 10);
  function frame() {
    if (pos == 550) {

    	pos=0;
    	elem.style.position="absolute";
    	elem.style.left= Math.floor(Math.random() * 510) + 500+'px';
    	console.log('wo cao', determineimage2)
    	changeImage();
      //clearInterval(id);
    } else {
      pos++; 
      elem.style.top = pos + 'px'; 
      // elem.style.left = pos + 'px'; 
    }
  
}

}
function fall3 () {
	  var elem = document.getElementById("vessel3");   
  var pos = 0;
  var id = setInterval(frame, 10);
  function frame() {
    if (pos == 550) {

    	pos=0;
    	elem.style.position="absolute";
    	elem.style.left= Math.floor(Math.random() * 510) + 500+'px';
    	console.log('wo cao', determineimage3)
    	changeImage();
      //clearInterval(id);
    } else {
      pos++; 
      elem.style.top = pos + 'px'; 
      // elem.style.left = pos + 'px'; 
    }
  
}
	
}
function fall4 () {
	  var elem = document.getElementById("vessel4");   
  var pos = 0;
  var id = setInterval(frame, 10);
  function frame() {
    if (pos == 550) {

    	pos=0;
    	elem.style.position="absolute";
    	elem.style.left= Math.floor(Math.random() * 510) + 500+'px';
    	console.log('wo cao', determineimage2)
    	changeImage();
      //clearInterval(id);
    } else {
      pos++; 
      elem.style.top = pos + 'px'; 
      // elem.style.left = pos + 'px'; 
    }
  
}
	
}
function fall5 () {
		  var elem = document.getElementById("vessel5");   
  var pos = 0;
  var id = setInterval(frame, 10);
  function frame() {
    if (pos == 550) {

    	pos=0;
    	elem.style.position="absolute";
    	elem.style.left= Math.floor(Math.random() * 510) + 500+'px';
    	console.log('wo cao', determineimage2)
    	changeImage();
      //clearInterval(id);
    } else {
      pos++; 
      elem.style.top = pos + 'px'; 
      // elem.style.left = pos + 'px'; 
    }
  
}
}
   

   //move coffee 
    function coffee () {
 	

      if (up==1) {
      	 $("#thecase").animate({top: "-=100"}, 1000); 
      }
     
     if (down==1) {
     $("#thecase").animate({top: "+=100"}, 1000);
     	
     
     }

     if (left==1) {
     	$("#thecase").animate({left: "-=100"}, 1000);
     }
     if (right==1) {
     	$("#thecase").animate({left: "+=100"}, 1000);
     }
      
    
  



}


	///Organize UI
   function startDrag(e) {
   	up=0;
   	left=0;
   	right=0;
   	down=0;
            // determine event object
            console.log(e)
            if (!e) {
                var e = window.event;
            }
            if(e.preventDefault) e.preventDefault();

            // IE uses srcElement, others use target
            targ = e.target ? e.target : e.srcElement;
 console.log(targ.id)
 up=0;
 down=0;
 left=0;
 right=0;

if (targ.id=='shang') {
up=1;
coffee();
}

if (targ.id=='xia') {
	down=1;
	coffee();
}

if (targ.id=='zuo') {
	left=1;
	coffee();
}

if (targ.id=='you') {
	right=1;
	coffee();
}
            if (targ.className != 'dragme') {return};
            // calculate event X, Y coordinates
                offsetX = e.clientX;
                offsetY = e.clientY;

            // assign default values for top and left properties
            if(!targ.style.left) { targ.style.left='0px'};
            if (!targ.style.top) { targ.style.top='0px'};

            // calculate integer values for top and left 
            // properties
            coordX = parseInt(targ.style.left);
            coordY = parseInt(targ.style.top);
            drag = true;

            // move div element
                document.onmousemove=dragDiv;
            return false;

        }
        function dragDiv(e) {
            if (!drag) {return};
            if (!e) { var e= window.event};
            // var targ=e.target?e.target:e.srcElement;
            // move div element
            targ.style.left=coordX+e.clientX-offsetX+'px';
            targ.style.top=coordY+e.clientY-offsetY+'px';
            return false;
        }
        function stopDrag() {
            drag=false;
        }
        window.onload = function() {
            document.onmousedown = startDrag;
            document.onmouseup = stopDrag;
        }


function myMove () {

}
</script>



</html>
